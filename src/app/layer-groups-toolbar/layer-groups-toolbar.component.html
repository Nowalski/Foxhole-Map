<div class="h-10 max-h-10 min-h-10 backdrop-blur-2xl border border-slate-500/40 z-[1000] w-fit mx-auto bg-slate-800 rounded-full relative before:content-[''] before:absolute before:-inset-px before:bg-gradient-to-br before:from-white/10 before:to-white/5 before:rounded-full before:-z-10 before:opacity-0 before:transition-opacity before:duration-200 hover:before:opacity-100">
  <div class="h-9 px-3 py-1.5 flex items-center justify-center">

    <div class="layer-buttons flex items-center gap-1">
      <button
        *ngFor="let group of layerGroups()"
        pButton
        class="p-button-sm flex items-center justify-center w-8 h-8 p-0 !rounded-full transition-all duration-200 ease-in-out overflow-hidden flex-shrink-0 hover:-translate-y-0.5 hover:scale-105 active:translate-y-0 active:scale-95"
        [class.p-button-outlined]="!isLayerGroupVisible(group.id)"
        [class.p-button-success]="isLayerGroupVisible(group.id)"
        [style.border-color]="isLayerGroupVisible(group.id) ? group.color : 'rgba(71, 85, 105, 0.5)'"
        [style.background]="isLayerGroupVisible(group.id) ? group.color + '20' : 'rgba(30, 41, 59, 0.3)'"
        (click)="toggleLayerGroup(group.id)"
        [pTooltip]="group.name + ': ' + group.description"
        tooltipPosition="bottom">
        <i
          [class]="group.icon"
          class="text-sm transition-all duration-200"
          [style.color]="isLayerGroupVisible(group.id) ? group.color : '#94a3b8'"
          [title]="group.icon">
        </i>
      </button>
    </div>

    <div class="w-px h-6 bg-slate-600 mx-2"></div>

    <div class="quick-actions flex items-center gap-1">
      <button
        pButton
        class="p-button-sm p-button-text text-green-400 hover:bg-green-400/10 !w-7 !h-7 !min-w-7 !min-h-7 !p-0 flex items-center justify-center !rounded-full transition-all duration-200 ease-in-out flex-shrink-0 hover:-translate-y-px hover:scale-105 hover:backdrop-blur-lg focus-visible:outline-2 focus-visible:outline-blue-400 focus-visible:outline-offset-2"
        (click)="showAll()"
        pTooltip="Show all layers"
        tooltipPosition="bottom">
        <i class="pi pi-eye"></i>
      </button>

      <button
        pButton
        class="p-button-sm p-button-text text-slate-400 hover:bg-slate-400/10 !w-7 !h-7 !min-w-7 !min-h-7 !p-0 flex items-center justify-center !rounded-full transition-all duration-200 ease-in-out flex-shrink-0 hover:-translate-y-px hover:scale-105 hover:backdrop-blur-lg focus-visible:outline-2 focus-visible:outline-blue-400 focus-visible:outline-offset-2"
        (click)="hideAll()"
        pTooltip="Hide all layers"
        tooltipPosition="bottom">
        <i class="pi pi-eye-slash"></i>
      </button>

      <button
        pButton
        class="p-button-sm p-button-text text-slate-400 hover:bg-slate-400/10 !w-7 !h-7 !min-w-7 !min-h-7 !p-0 flex items-center justify-center !rounded-full transition-all duration-200 ease-in-out flex-shrink-0 hover:-translate-y-px hover:scale-105 hover:backdrop-blur-lg focus-visible:outline-2 focus-visible:outline-blue-400 focus-visible:outline-offset-2"
        (click)="resetToDefaults()"
        pTooltip="Reset to defaults"
        tooltipPosition="bottom">
        <i class="pi pi-refresh"></i>
      </button>
    </div>
  </div>
</div>
